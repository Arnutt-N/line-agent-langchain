#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Script ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏° HR Categories ‡πÅ‡∏•‡∏∞ Templates - Fixed Version
"""
import os
import sys
sys.path.append(os.path.dirname(os.path.abspath(__file__)))
import io
sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')

from app.database import SessionLocal, engine
from app.models import Base, MessageCategory, MessageTemplate
import json

def add_hr_data():
    db = SessionLocal()
    
    # Add categories
    categories = [
        {"name": "‡∏ó‡∏±‡∏Å‡∏ó‡∏≤‡∏¢", "description": "‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏±‡∏Å‡∏ó‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ï‡∏±‡∏ß", "color": "#4CAF50"},
        {"name": "‡∏Å‡∏≤‡∏£‡∏•‡∏≤", "description": "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ï‡πà‡∏≤‡∏á‡πÜ", "color": "#2196F3"},
        {"name": "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£", "description": "‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£", "color": "#FF9800"},
        {"name": "‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô", "description": "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô", "color": "#9C27B0"},
        {"name": "‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö", "description": "‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö", "color": "#E91E63"},
        {"name": "‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ", "description": "‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö HR", "color": "#607D8B"}
    ]
    
    print("Adding Categories...")
    for cat_data in categories:
        existing = db.query(MessageCategory).filter_by(name=cat_data["name"]).first()
        if not existing:
            category = MessageCategory(**cat_data)
            db.add(category)
    db.commit()
    
    # Get category mapping
    cat_map = {cat.name: cat.id for cat in db.query(MessageCategory).all()}
    
    # Templates data with comma-separated tags
    templates = [
        # ‡∏ó‡∏±‡∏Å‡∏ó‡∏≤‡∏¢
        {
            "name": "‡∏ó‡∏±‡∏Å‡∏ó‡∏≤‡∏¢‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ",
            "description": "‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏±‡∏Å‡∏ó‡∏≤‡∏¢‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô", 
            "message_type": "text",
            "category_id": cat_map["‡∏ó‡∏±‡∏Å‡∏ó‡∏≤‡∏¢"],
            "content": json.dumps({
                "type": "text",
                "text": "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡πà‡∏∞ üôè\n\n‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• HR\n‡∏Å‡∏≠‡∏á‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•\n‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏õ‡∏•‡∏±‡∏î‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏¢‡∏∏‡∏ï‡∏¥‡∏ò‡∏£‡∏£‡∏°\n\n‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏´‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏Ñ‡∏∞?"
            }),
            "tags": "greeting,welcome,‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ",
            "priority": 10
        },
        {
            "name": "‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£",
            "description": "‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ",
            "message_type": "text_with_quickreply",
            "category_id": cat_map["‡∏ó‡∏±‡∏Å‡∏ó‡∏≤‡∏¢"],
            "content": json.dumps({
                "type": "text",
                "text": "‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• HR ‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£:\n\nüìã ‡∏Å‡∏≤‡∏£‡∏•‡∏≤\nüí∞ ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£\nüìä ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô\nüìñ ‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö\n\n‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡πà‡∏∞",
                "quickReply": {
                    "items": [
                        {"type": "action", "action": {"type": "message", "label": "‡∏Å‡∏≤‡∏£‡∏•‡∏≤", "text": "‡∏Ç‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏•‡∏≤"}},
                        {"type": "action", "action": {"type": "message", "label": "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£", "text": "‡∏Ç‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£"}},
                        {"type": "action", "action": {"type": "message", "label": "‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô", "text": "‡∏Ç‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô"}},
                        {"type": "action", "action": {"type": "message", "label": "‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö", "text": "‡∏Ç‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö"}}
                    ]
                }
            }),
            "tags": "menu,services,‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£",
            "priority": 8
        },
        # ‡∏Å‡∏≤‡∏£‡∏•‡∏≤
        {
            "name": "‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",
            "description": "‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó",
            "message_type": "flex",
            "category_id": cat_map["‡∏Å‡∏≤‡∏£‡∏•‡∏≤"],
            "content": json.dumps({
                "type": "flex",
                "altText": "‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ",
                "contents": {
                    "type": "bubble",
                    "header": {
                        "type": "box",
                        "layout": "vertical",
                        "contents": [
                            {"type": "text", "text": "üìã ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ", "weight": "bold", "size": "xl", "color": "#2196F3"}
                        ]
                    },
                    "body": {
                        "type": "box",
                        "layout": "vertical",
                        "spacing": "md",
                        "contents": [
                            {"type": "text", "text": "üè• ‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢: 60 ‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£/‡∏õ‡∏µ", "wrap": True},
                            {"type": "text", "text": "üèñÔ∏è ‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô: 10 ‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£/‡∏õ‡∏µ", "wrap": True},
                            {"type": "text", "text": "üìù ‡∏•‡∏≤‡∏Å‡∏¥‡∏à‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß: 45 ‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£/‡∏õ‡∏µ", "wrap": True},
                            {"type": "text", "text": "üë∂ ‡∏•‡∏≤‡∏Ñ‡∏•‡∏≠‡∏î‡∏ö‡∏∏‡∏ï‡∏£: 90 ‡∏ß‡∏±‡∏ô", "wrap": True},
                            {"type": "separator", "margin": "md"},
                            {"type": "text", "text": "üìå ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á: ‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏Ø ‡∏û.‡∏®. 2555", "size": "xs", "color": "#999999"}
                        ]
                    }
                }
            }),
            "tags": "leave,all,‡∏™‡∏¥‡∏ó‡∏ò‡∏¥,‡∏•‡∏≤",
            "priority": 10
        },
        {
            "name": "‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢",
            "description": "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢",
            "message_type": "text",
            "category_id": cat_map["‡∏Å‡∏≤‡∏£‡∏•‡∏≤"],
            "content": json.dumps({
                "type": "text",
                "text": "üè• ‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢\n\n‚úÖ ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥: ‡∏•‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏ó‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏õ‡πà‡∏ß‡∏¢‡∏à‡∏£‡∏¥‡∏á (‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 60 ‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£/‡∏õ‡∏µ)\n‚úÖ ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏•‡∏≤\n\nüìã ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç:\n‚Ä¢ ‡∏•‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏Å‡∏¥‡∏ô 3 ‡∏ß‡∏±‡∏ô ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡πÅ‡∏û‡∏ó‡∏¢‡πå\n‚Ä¢ ‡∏•‡∏≤‡πÄ‡∏Å‡∏¥‡∏ô 30 ‡∏ß‡∏±‡∏ô ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏à‡∏≤‡∏Å‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏£‡∏±‡∏ê\n\nüìå ‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏Ø ‡∏û.‡∏®. 2555"
            }),
            "tags": "sick,‡∏õ‡πà‡∏ß‡∏¢,‡∏•‡∏≤‡∏õ‡πà‡∏ß‡∏¢",
            "priority": 9
        },
        {
            "name": "‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô", 
            "description": "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô",
            "message_type": "text",
            "category_id": cat_map["‡∏Å‡∏≤‡∏£‡∏•‡∏≤"],
            "content": json.dumps({
                "type": "text",
                "text": "üèñÔ∏è ‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô\n\n‚úÖ ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥:\n‚Ä¢ ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏ö 6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô: ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏•‡∏≤ 10 ‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£\n‚Ä¢ ‡∏õ‡∏µ‡∏ï‡πà‡∏≠‡πÑ‡∏õ: 10 ‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£/‡∏õ‡∏µ\n\nüìã ‡∏Å‡∏≤‡∏£‡∏™‡∏∞‡∏™‡∏°:\n‚Ä¢ ‡∏™‡∏∞‡∏™‡∏°‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 20 ‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£\n‚Ä¢ ‡∏£‡∏ß‡∏°‡∏õ‡∏µ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 30 ‡∏ß‡∏±‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£\n\nüí° ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤"
            }),
            "tags": "vacation,‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô,‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô",
            "priority": 9
        },
        # ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£
        {
            "name": "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",
            "description": "‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£",
            "message_type": "text",
            "category_id": cat_map["‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£"],
            "content": json.dumps({
                "type": "text",
                "text": "üí∞ ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£\n\n‚úÖ ‡∏Ñ‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• (‡∏ï‡∏ô‡πÄ‡∏≠‡∏á+‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß)\n‚úÖ ‡∏Ñ‡πà‡∏≤‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ö‡∏∏‡∏ï‡∏£\n‚úÖ ‡πÄ‡∏á‡∏¥‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ö‡∏∏‡∏ï‡∏£\n‚úÖ ‡∏Ñ‡πà‡∏≤‡πÄ‡∏ä‡πà‡∏≤‡∏ö‡πâ‡∏≤‡∏ô\n‚úÖ ‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏π‡πâ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£\n‚úÖ ‡∏ö‡∏≥‡πÄ‡∏´‡∏ô‡πá‡∏à‡∏ö‡∏≥‡∏ô‡∏≤‡∏ç\n‚úÖ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ä‡∏≠‡∏¥‡∏™‡∏£‡∏¥‡∏¢‡∏≤‡∏†‡∏£‡∏ì‡πå\n\nüìû ‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î: 02-123-4567"
            }),
            "tags": "welfare,‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£,‡∏™‡∏¥‡∏ó‡∏ò‡∏¥",
            "priority": 10
        },
        {
            "name": "‡∏Ñ‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•",
            "description": "‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏Ñ‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•",
            "message_type": "text",
            "category_id": cat_map["‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£"],
            "content": json.dumps({
                "type": "text",
                "text": "üíä ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏Ñ‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•\n\n‚úÖ ‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥:\n‚Ä¢ ‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£\n‚Ä¢ ‡∏Ñ‡∏π‡πà‡∏™‡∏°‡∏£‡∏™\n‚Ä¢ ‡∏ö‡∏∏‡∏ï‡∏£‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 3 ‡∏Ñ‡∏ô (‡∏≠‡∏≤‡∏¢‡∏∏‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 20 ‡∏õ‡∏µ)\n‚Ä¢ ‡∏ö‡∏¥‡∏î‡∏≤‡∏°‡∏≤‡∏£‡∏î‡∏≤\n\nüìã ‡πÄ‡∏ö‡∏¥‡∏Å‡πÑ‡∏î‡πâ:\n‚Ä¢ ‡∏Ñ‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏ï‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á\n‚Ä¢ ‡∏Ñ‡πà‡∏≤‡∏´‡πâ‡∏≠‡∏á/‡∏Ñ‡πà‡∏≤‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡∏ï‡∏≤‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥\n‚Ä¢ ‡∏Ñ‡πà‡∏≤‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®\n\nüìë ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£: ‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à + ‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡πÅ‡∏û‡∏ó‡∏¢‡πå"
            }),
            "tags": "medical,‡∏£‡∏±‡∏Å‡∏©‡∏≤,‡∏´‡∏°‡∏≠",
            "priority": 9
        },
        # ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
        {
            "name": "‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
            "description": "‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
            "message_type": "text",
            "category_id": cat_map["‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô"],
            "content": json.dumps({
                "type": "text",
                "text": "üí∞ ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô\n\nüìÖ ‡∏£‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô:\n‚Ä¢ ‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà 1: 1 ‡∏ï.‡∏Ñ. - 31 ‡∏°‡∏µ.‡∏Ñ.\n‚Ä¢ ‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà 2: 1 ‡πÄ‡∏°.‡∏¢. - 30 ‡∏Å.‡∏¢.\n\nüìä ‡πÄ‡∏Å‡∏ì‡∏ë‡πå:\n‚Ä¢ ‡∏î‡∏µ‡πÄ‡∏î‡πà‡∏ô: 3.00-6.00%\n‚Ä¢ ‡∏î‡∏µ‡∏°‡∏≤‡∏Å: 2.00-4.00%\n‚Ä¢ ‡∏î‡∏µ: 1.50-3.00%\n‚Ä¢ ‡∏û‡∏≠‡πÉ‡∏ä‡πâ: 1.00-2.00%\n\n‚ö†Ô∏è ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç: ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ 4 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô"
            }),
            "tags": "salary,‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô,‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô",
            "priority": 9
        },
        # ‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö
        {
            "name": "‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£",
            "description": "‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£",
            "message_type": "text",
            "category_id": cat_map["‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö"],
            "content": json.dumps({
                "type": "text", 
                "text": "‚è∞ ‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£\n\nüìÖ ‡∏ß‡∏±‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå - ‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå:\n‚Ä¢ ‡πÄ‡∏ß‡∏•‡∏≤ 08:30 - 16:30 ‡∏ô.\n‚Ä¢ ‡∏û‡∏±‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô 12:00 - 13:00 ‡∏ô.\n\nüìã ‡∏Å‡∏≤‡∏£‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤:\n‚Ä¢ ‡∏™‡∏≤‡∏¢: ‡∏´‡∏•‡∏±‡∏á 08:30 ‡∏ô.\n‚Ä¢ ‡∏Ç‡∏≤‡∏î: ‡πÑ‡∏°‡πà‡∏°‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏•‡∏≤\n‚Ä¢ ‡∏≠‡∏≠‡∏Å‡∏Å‡πà‡∏≠‡∏ô: ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï\n\n‚ö†Ô∏è ‡∏™‡∏≤‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô 3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡∏°‡∏µ‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô"
            }),
            "tags": "time,‡πÄ‡∏ß‡∏•‡∏≤,‡∏ó‡∏≥‡∏á‡∏≤‡∏ô",
            "priority": 8
        },
        # ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ
        {
            "name": "‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ HR",
            "description": "‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ HR",
            "message_type": "text",
            "category_id": cat_map["‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ"],
            "content": json.dumps({
                "type": "text",
                "text": "üìû ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏≠‡∏á‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•\n\nüè¢ ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà:\n‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏õ‡∏•‡∏±‡∏î‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏¢‡∏∏‡∏ï‡∏¥‡∏ò‡∏£‡∏£‡∏°\n‡∏ä‡∏±‡πâ‡∏ô 5 ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ A\n\n‚òéÔ∏è ‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå:\n‚Ä¢ ‡∏™‡∏≤‡∏¢‡πÉ‡∏ô: 1234\n‚Ä¢ ‡∏™‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å: 02-123-4567\n\nüìß Email: hr@moj.go.th\n\n‚è∞ ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏Å‡∏≤‡∏£:\n‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå-‡∏®‡∏∏‡∏Å‡∏£‡πå 08:30-16:30 ‡∏ô."
            }),
            "tags": "contact,‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠,hr",
            "priority": 7
        }
    ]
    
    print("\nAdding Templates...")
    added = 0
    for t in templates:
        existing = db.query(MessageTemplate).filter_by(name=t["name"]).first()
        if not existing:
            template = MessageTemplate(**t)
            db.add(template)
            added += 1
            print(f"‚úÖ Added: {t['name']}")
    
    db.commit()
    
    # Show summary
    print(f"\nüìä Summary:")
    print(f"Categories: {db.query(MessageCategory).count()}")
    print(f"Templates: {db.query(MessageTemplate).count()}")
    print(f"New templates added: {added}")
    
    db.close()

if __name__ == "__main__":
    Base.metadata.create_all(bind=engine)
    add_hr_data()
    print("\n‚úÖ HR Templates initialization completed!")
